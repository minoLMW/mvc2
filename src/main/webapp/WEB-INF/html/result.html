<%@ page contentType="text/html;charset=UTF-8" language="java" pageEncoding="UTF-8" %>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<html>
<head>
  <title>๋ก๊ทธ์ธ ๊ฒฐ๊ณผ</title>
</head>
<body>

<c:choose>

  <%-- ํ์๊ฐ์ ๊ฒฐ๊ณผ --%>
  <c:when test="${not empty success}">
    <h2>
      <c:choose>
        <c:when test="${success}">ํ์๊ฐ์์ด ์ฑ๊ณต์์ผ๋ก ์ฒ๋ฆฌ๋์์ต๋๋ค!</c:when>
        <c:otherwise>ํ์๊ฐ์ ์ค ๋ฌธ์๊ฐ ๋ฐ์ํ์ต๋๋ค.</c:otherwise>
      </c:choose>
    </h2>
    <p><a href="mypage.member">๋ง์ดํ์ด์ง</a></p>
  </c:when>

  <%-- ์ผ๋ฐ ๋ก๊ทธ์ธ --%>
  <c:when test="${not empty loginUser}">
    <h2>${loginUser.userid} (${loginUser.name})๋, ๋ก๊ทธ์ธ ์ฑ๊ณต!</h2>
    <p><a href="mypage.member">๋ง์ดํ์ด์ง</a> | <a href="logout.member">๋ก๊ทธ์์</a></p>
  </c:when>

  <%-- ์นด์นด์ค ๋ก๊ทธ์ธ --%>
  <c:when test="${not empty kakaoUser}">
    <h2>${kakaoUser.nickname}๋, ๋ก๊ทธ์ธ ์ฑ๊ณต!</h2>
    <p><a href="mypage.member">๋ง์ดํ์ด์ง</a> | <a href="logout.member">๋ก๊ทธ์์</a></p>
  </c:when>

  <c:when test="${not empty user}">
    <h2>${user.name}๋, ๊ตฌ๊ธ ๋ก๊ทธ์ธ ์ฑ๊ณต!</h2>
    <p>์ด๋ฉ์ผ: ${user.email}</p>

    <c:if test="${not empty user.picture}">
      <img src="${user.picture}" width="100" height="100" />
    </c:if>

    <p><a href="mypage.member">๋ง์ดํ์ด์ง</a> | <a href="logout.member">๋ก๊ทธ์์</a></p>
  </c:when>

  <%-- ๋ก๊ทธ์ธ ์คํจ --%>
  <c:otherwise>
    <h2>๋ก๊ทธ์ธ ์คํจ</h2>
    <p>์์ด๋ ๋๋ ๋น๋ฐ๋ฒํธ๋ฅผ ํ์ธํ์ธ์ ๐คข๐คข๐คข</p>
  </c:otherwise>

</c:choose>

</body>
</html>
